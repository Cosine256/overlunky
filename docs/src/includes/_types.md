
# Non-Entity types


## Arena types


### ArenaConfigArenas

Used in [ArenaState](#ArenaState)

Type | Name | Description
---- | ---- | -----------
bool | [dwelling_1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dwelling_1) | 
bool | [dwelling_2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dwelling_2) | 
bool | [dwelling_3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dwelling_3) | 
bool | [dwelling_4](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dwelling_4) | 
bool | [dwelling_5](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dwelling_5) | 
bool | [jungle_1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jungle_1) | 
bool | [jungle_2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jungle_2) | 
bool | [jungle_3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jungle_3) | 
bool | [jungle_4](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jungle_4) | 
bool | [jungle_5](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jungle_5) | 
bool | [volcana_1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=volcana_1) | 
bool | [volcana_2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=volcana_2) | 
bool | [volcana_3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=volcana_3) | 
bool | [volcana_4](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=volcana_4) | 
bool | [volcana_5](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=volcana_5) | 
bool | [tidepool_1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tidepool_1) | 
bool | [tidepool_2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tidepool_2) | 
bool | [tidepool_3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tidepool_3) | 
bool | [tidepool_4](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tidepool_4) | 
bool | [tidepool_5](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tidepool_5) | 
bool | [temple_1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=temple_1) | 
bool | [temple_2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=temple_2) | 
bool | [temple_3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=temple_3) | 
bool | [temple_4](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=temple_4) | 
bool | [temple_5](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=temple_5) | 
bool | [icecaves_1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=icecaves_1) | 
bool | [icecaves_2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=icecaves_2) | 
bool | [icecaves_3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=icecaves_3) | 
bool | [icecaves_4](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=icecaves_4) | 
bool | [icecaves_5](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=icecaves_5) | 
bool | [neobabylon_1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=neobabylon_1) | 
bool | [neobabylon_2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=neobabylon_2) | 
bool | [neobabylon_3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=neobabylon_3) | 
bool | [neobabylon_4](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=neobabylon_4) | 
bool | [neobabylon_5](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=neobabylon_5) | 
bool | [sunkencity_1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sunkencity_1) | 
bool | [sunkencity_2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sunkencity_2) | 
bool | [sunkencity_3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sunkencity_3) | 
bool | [sunkencity_4](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sunkencity_4) | 
bool | [sunkencity_5](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sunkencity_5) | 

### ArenaConfigEquippedItems

Used in [ArenaState](#ArenaState)

Type | Name | Description
---- | ---- | -----------
bool | [paste](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=paste) | 
bool | [climbing_gloves](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=climbing_gloves) | 
bool | [pitchers_mitt](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pitchers_mitt) | 
bool | [spike_shoes](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spike_shoes) | 
bool | [spring_shoes](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spring_shoes) | 
bool | [parachute](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=parachute) | 
bool | [kapala](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kapala) | 
bool | [scepter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scepter) | 

### ArenaConfigItems

Used in [ArenaState](#ArenaState)

Type | Name | Description
---- | ---- | -----------
bool | [rock](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rock) | 
bool | [pot](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pot) | 
bool | [bombbag](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bombbag) | 
bool | [bombbox](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bombbox) | 
bool | [ropepile](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ropepile) | 
bool | [pickup_12bag](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pickup_12bag) | 
bool | [pickup_24bag](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pickup_24bag) | 
bool | [cooked_turkey](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cooked_turkey) | 
bool | [royal_jelly](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=royal_jelly) | 
bool | [torch](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=torch) | 
bool | [boomerang](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=boomerang) | 
bool | [machete](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=machete) | 
bool | [mattock](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mattock) | 
bool | [crossbow](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=crossbow) | 
bool | [webgun](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=webgun) | 
bool | [freezeray](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=freezeray) | 
bool | [shotgun](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shotgun) | 
bool | [camera](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=camera) | 
bool | [plasma_cannon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=plasma_cannon) | 
bool | [wooden_shield](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wooden_shield) | 
bool | [metal_shield](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=metal_shield) | 
bool | [teleporter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=teleporter) | 
bool | [mine](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mine) | 
bool | [snaptrap](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=snaptrap) | 
bool | [paste](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=paste) | 
bool | [climbing_gloves](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=climbing_gloves) | 
bool | [pitchers_mitt](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pitchers_mitt) | 
bool | [spike_shoes](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spike_shoes) | 
bool | [spring_shoes](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spring_shoes) | 
bool | [parachute](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=parachute) | 
bool | [cape](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cape) | 
bool | [vlads_cape](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=vlads_cape) | 
bool | [jetpack](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jetpack) | 
bool | [hoverpack](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hoverpack) | 
bool | [telepack](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=telepack) | 
bool | [powerpack](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=powerpack) | 
bool | [excalibur](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=excalibur) | 
bool | [scepter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scepter) | 
bool | [kapala](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kapala) | 
bool | [true_crown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=true_crown) | 

### ArenaState

Used in [StateMemory](#StateMemory)

Type | Name | Description
---- | ---- | -----------
int | [current_arena](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=current_arena) | 
array&lt;int, 4&gt; | [player_teams](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_teams) | 
int | [format](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=format) | 
int | [ruleset](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ruleset) | 
array&lt;int, 4&gt; | [player_lives](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_lives) | 
array&lt;int, 4&gt; | [player_totalwins](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_totalwins) | 
array&lt;bool, 4&gt; | [player_won](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_won) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | The menu selection for timer, default values 0..20 where 0 == 30 seconds, 19 == 10 minutes and 20 == infinite. Can go higher, although this will glitch the menu text. Actual time (seconds) = (state.arena.timer + 1) x 30
int | [timer_ending](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer_ending) | 
int | [wins](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wins) | 
int | [lives](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=lives) | 
int | [time_to_win](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_to_win) | 
array&lt;int, 4&gt; | [player_idolheld_countdown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_idolheld_countdown) | 
int | [health](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=health) | 
int | [bombs](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bombs) | 
int | [ropes](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ropes) | 
int | [stun_time](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stun_time) | 
int | [mount](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mount) | 
int | [arena_select](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arena_select) | 
[ArenaConfigArenas](#ArenaConfigArenas) | [arenas](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arenas) | 
int | [dark_level_chance](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dark_level_chance) | 
int | [crate_frequency](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=crate_frequency) | 
[ArenaConfigItems](#ArenaConfigItems) | [items_enabled](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=items_enabled) | 
[ArenaConfigItems](#ArenaConfigItems) | [items_in_crate](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=items_in_crate) | 
int | [held_item](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=held_item) | 
int | [equipped_backitem](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=equipped_backitem) | 
[ArenaConfigEquippedItems](#ArenaConfigEquippedItems) | [equipped_items](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=equipped_items) | 
int | [whip_damage](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=whip_damage) | 
bool | [final_ghost](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=final_ghost) | 
int | [breath_cooldown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=breath_cooldown) | 
bool | [punish_ball](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=punish_ball) | 

## Callback context types


### GuiDrawContext


```lua
-- Draw the level boundaries
set_callback(function(draw_ctx)
    local xmin, ymax, xmax, ymin = get_bounds()
    local sx, sy = screen_position(xmin, ymax) -- top left
    local sx2, sy2 = screen_position(xmax, ymin) -- bottom right
    draw_ctx:draw_rect(sx, sy, sx2, sy2, 4, 0, rgba(255, 255, 255, 255))
end, ON.GUIFRAME)

```

Used in [register_option_callback](#register_option_callback) and [set_callback](#set_callback) with [ON](#ON).GUIFRAME

Type | Name | Description
---- | ---- | -----------
nil | [draw_line(float x1, float y1, float x2, float y2, float thickness, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_line) | Draws a line on screen
nil | [draw_rect(float left, float top, float right, float bottom, float thickness, float rounding, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_rect) | Draws a rectangle on screen from top-left to bottom-right.
nil | [draw_rect(AABB rect, float thickness, float rounding, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_rect) | Draws a rectangle on screen from top-left to bottom-right.
nil | [draw_rect_filled(float left, float top, float right, float bottom, float rounding, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_rect_filled) | Draws a filled rectangle on screen from top-left to bottom-right.
nil | [draw_rect_filled(AABB rect, float rounding, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_rect_filled) | Draws a filled rectangle on screen from top-left to bottom-right.
nil | [draw_triangle(Vec2 p1, Vec2 p2, Vec2 p3, float thickness, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_triangle) | Draws a triangle on screen.
nil | [draw_triangle_filled(Vec2 p1, Vec2 p2, Vec2 p3, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_triangle_filled) | Draws a filled triangle on screen.
nil | [draw_poly(array<Vec2> points, float thickness, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_poly) | Draws a polyline on screen.
nil | [draw_poly_filled(array<Vec2> points, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_poly_filled) | Draws a filled convex polyline on screen.
nil | [draw_bezier_cubic(Vec2 p1, Vec2 p2, Vec2 p3, Vec2 p4, float thickness, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_bezier_cubic) | Draws a cubic bezier curve on screen.
nil | [draw_bezier_quadratic(Vec2 p1, Vec2 p2, Vec2 p3, float thickness, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_bezier_quadratic) | Draws a quadratic bezier curve on screen.
nil | [draw_circle(float x, float y, float radius, float thickness, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_circle) | Draws a circle on screen
nil | [draw_circle_filled(float x, float y, float radius, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_circle_filled) | Draws a filled circle on screen
nil | [draw_text(float x, float y, float size, string text, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_text) | Draws text in screen coordinates `x`, `y`, anchored top-left. Text size 0 uses the default 18.
nil | [draw_image(IMAGE image, float left, float top, float right, float bottom, float uvx1, float uvy1, float uvx2, float uvy2, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_image) | Draws an image on screen from top-left to bottom-right. Use UV coordinates `0, 0, 1, 1` to just draw the whole image.
nil | [draw_image(IMAGE image, AABB rect, AABB uv_rect, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_image) | Draws an image on screen from top-left to bottom-right. Use UV coordinates `0, 0, 1, 1` to just draw the whole image.
nil | [draw_image_rotated(IMAGE image, float left, float top, float right, float bottom, float uvx1, float uvy1, float uvx2, float uvy2, uColor color, float angle, float px, float py)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_image_rotated) | Same as `draw_image` but rotates the image by angle in radians around the pivot offset from the center of the rect (meaning `px=py=0` rotates around the center)
nil | [draw_image_rotated(IMAGE image, AABB rect, AABB uv_rect, uColor color, float angle, float px, float py)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_image_rotated) | Same as `draw_image` but rotates the image by angle in radians around the pivot offset from the center of the rect (meaning `px=py=0` rotates around the center)
nil | [draw_layer(DRAW_LAYER layer)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_layer) | Draw on top of UI windows, including platform windows that may be outside the game area, or only in current widget window. Defaults to main viewport background.
bool | [window(string title, float x, float y, float w, float h, bool movable, function callback)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=window) | Create a new widget window. Put all win_ widgets inside the callback function. The window functions are just wrappers for the<br/>[ImGui](https://github.com/ocornut/imgui/) widgets, so read more about them there. Use screen position and distance, or `0, 0, 0, 0` to<br/>autosize in center. Use just a `##Label` as title to hide titlebar.<br/>Important: Keep all your labels unique! If you need inputs with the same label, add `##SomeUniqueLabel` after the text, or use pushid to<br/>give things unique ids. ImGui doesn't know what you clicked if all your buttons have the same text...<br/>Returns false if the window was closed from the X.<br/><br/>The callback signature is nil win(GuiDrawContext ctx, Vec2 pos, Vec2 size)
nil | [win_text(string text)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_text) | Add some text to window, automatically wrapped
nil | [win_separator()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_separator) | Add a separator line to window
nil | [win_separator_text(string text)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_separator_text) | Add a separator text line to window
nil | [win_inline()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_inline) | Add next thing on the same line. This is same as `win_sameline(0, -1)`
nil | [win_sameline(float offset, float spacing)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_sameline) | Add next thing on the same line, with an offset
bool | [win_button(string text)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_button) | Add a button
string | [win_input_text(string label, string value)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_input_text) | Add a text field
int | [win_input_int(string label, int value)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_input_int) | Add an integer field
float | [win_input_float(string label, float value)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_input_float) | Add a float field
int | [win_slider_int(string label, int value, int min, int max)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_slider_int) | Add an integer slider
int | [win_drag_int(string label, int value, int min, int max)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_drag_int) | Add an integer dragfield
float | [win_slider_float(string label, float value, float min, float max)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_slider_float) | Add an float slider
float | [win_drag_float(string label, float value, float min, float max)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_drag_float) | Add an float dragfield
bool | [win_check(string label, bool value)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_check) | Add a checkbox
int | [win_combo(string label, int selected, string opts)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_combo) | Add a combo box
nil | [win_pushid(int id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_pushid) | Add unique identifier to the stack, to distinguish identical inputs from each other. Put before the input.
nil | [win_pushid(string id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_pushid) | Add unique identifier to the stack, to distinguish identical inputs from each other. Put before the input.
nil | [win_popid()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_popid) | Pop unique identifier from the stack. Put after the input.
nil | [win_image(IMAGE image, float width, float height)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_image) | Draw image to window.
bool | [win_imagebutton(string label, IMAGE image, float width, float height, float uvx1, float uvy1, float uvx2, float uvy2)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_imagebutton) | Draw imagebutton to window.
nil | [win_section(string title, function callback)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_section) | Add a collapsing accordion section, put contents in the callback function.
nil | [win_indent(float width)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_indent) | Indent contents, or unindent if negative
nil | [win_width(float width)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_width) | Sets next item width (width>1: width in pixels, width<0: to the right of window, -1<width<1: fractional, multiply by available window width)

### LoadContext

Context received in [ON](#ON).LOAD
Used to load from save_{}.dat into a string

Type | Name | Description
---- | ---- | -----------
string | [load()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=load) | 

### PostRoomGenerationContext

Context received in [ON](#ON).POST_ROOM_GENERATION.
Used to change the room templates in the level and other shenanigans that affect level gen.

Type | Name | Description
---- | ---- | -----------
bool | [set_room_template(int x, int y, LAYER layer, ROOM_TEMPLATE room_template)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_room_template) | Set the room template at the given index and layer, returns `false` if the index is outside of the level.
bool | [mark_as_machine_room_origin(int x, int y, LAYER layer)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mark_as_machine_room_origin) | Marks the room as the origin of a machine room, should be the top-left corner of the machine room<br/>Run this after setting the room template for the room, otherwise the machine room will not spawn correctly
bool | [mark_as_set_room(int x, int y, LAYER layer)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mark_as_set_room) | Marks the room as a set-room, a corresponding `setroomy-x` template must be loaded, else the game will crash
bool | [unmark_as_set_room(int x, int y, LAYER layer)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=unmark_as_set_room) | Unmarks the room as a set-room
bool | [set_shop_type(int x, int y, LAYER layer, int shop_type)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_shop_type) | Set the shop type for a specific room, does nothing if the room is not a shop
bool | [set_procedural_spawn_chance(PROCEDURAL_CHANCE chance_id, int inverse_chance)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_procedural_spawn_chance) | Force a spawn chance for this level, has the same restrictions as specifying the spawn chance in the .lvl file.<br/>Note that the actual chance to spawn is `1/inverse_chance` and that is also slightly skewed because of technical reasons.<br/>Returns `false` if the given chance is not defined.
nil | [set_num_extra_spawns(int extra_spawn_id, int num_spawns_front_layer, int num_spawns_back_layer)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_num_extra_spawns) | Change the amount of extra spawns for the given `extra_spawn_id`.
optional&lt;[SHORT_TILE_CODE](#Aliases)&gt; | [define_short_tile_code(ShortTileCodeDef short_tile_code_def)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=define_short_tile_code) | Defines a new short tile code, automatically picks an unused character or returns a used one in case of an exact match<br/>Returns `nil` if all possible short tile codes are already in use
nil | [change_short_tile_code(SHORT_TILE_CODE short_tile_code, ShortTileCodeDef short_tile_code_def)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=change_short_tile_code) | Overrides a specific short tile code, this means it will change for the whole level

### PreHandleRoomTilesContext

Context received in [ON](#ON).PRE_HANDLE_ROOM_TILES.
Used to change the room data as well as add a backlayer room if none is set yet.

Type | Name | Description
---- | ---- | -----------
optional&lt;[SHORT_TILE_CODE](#Aliases)&gt; | [get_short_tile_code(int tx, int ty, LAYER layer)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_short_tile_code) | Gets the tile code at the specified tile coordinate<br/>Valid coordinates are `0 <= tx < CONST.ROOM_WIDTH`, `0 <= ty < CONST.ROOM_HEIGHT` and `layer` in `{LAYER.FRONT, LAYER.BACK}`<br/>Also returns `nil` if `layer == LAYER.BACK` and the room does not have a back layer
bool | [set_short_tile_code(int tx, int ty, LAYER layer, SHORT_TILE_CODE short_tile_code)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_short_tile_code) | Sets the tile code at the specified tile coordinate<br/>Valid coordinates are `0 <= tx < CONST.ROOM_WIDTH`, `0 <= ty < CONST.ROOM_HEIGHT` and `layer` in `{LAYER.FRONT, LAYER.BACK, LAYER.BOTH}`<br/>Also returns `false` if `layer == LAYER.BACK` and the room does not have a back layer
array&lt;tuple&lt;int, int, [LAYER](#LAYER)&gt;&gt; | [find_all_short_tile_codes(LAYER layer, SHORT_TILE_CODE short_tile_code)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=find_all_short_tile_codes) | Finds all places a short tile code is used in the room, `layer` must be in `{LAYER.FRONT, LAYER.BACK, LAYER.BOTH}`<br/>Returns an empty list if `layer == LAYER.BACK` and the room does not have a back layer
bool | [replace_short_tile_code(LAYER layer, SHORT_TILE_CODE short_tile_code, SHORT_TILE_CODE replacement_short_tile_code)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=replace_short_tile_code) | Replaces all instances of `short_tile_code` in the given layer with `replacement_short_tile_code`, `layer` must be in `{LAYER.FRONT, LAYER.BACK, LAYER.BOTH}`<br/>Returns `false` if `layer == LAYER.BACK` and the room does not have a back layer
bool | [has_back_layer()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=has_back_layer) | Check whether the room has a back layer
nil | [add_empty_back_layer()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=add_empty_back_layer) | Add a back layer filled with all `0` if there is no back layer yet<br/>Does nothing if there already is a backlayer
nil | [add_copied_back_layer()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=add_copied_back_layer) | Add a back layer that is a copy of the front layer<br/>Does nothing if there already is a backlayer

### PreLoadLevelFilesContext

Context received in [ON](#ON).PRE_LOAD_LEVEL_FILES, used for forcing specific `.lvl` files to load.

Type | Name | Description
---- | ---- | -----------
nil | [override_level_files(array<string> levels)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=override_level_files) | Block all loading `.lvl` files and instead load the specified `.lvl` files. This includes `generic.lvl` so if you need it specify it here.<br/>All `.lvl` files are loaded relative to `Data/Levels`, but they can be completely custom `.lvl` files that ship with your mod so long as they are in said folder.<br/>Use at your own risk, some themes/levels expect a certain level file to be loaded.
nil | [add_level_files(array<string> levels)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=add_level_files) | Load additional levels files other than the ones that would usually be loaded. Stacks with `override_level_files` if that was called first.<br/>All `.lvl` files are loaded relative to `Data/Levels`, but they can be completely custom `.lvl` files that ship with your mod so long as they are in said folder.

### SaveContext

Context received in [ON](#ON).SAVE
Used to save a string to some form of save_{}.dat
Future calls to this will override the save

Type | Name | Description
---- | ---- | -----------
bool | [save(string data)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=save) | 

### VanillaRenderContext

Used in [set_callback](#set_callback) [ON](#ON).RENDER_ callbacks, [set_post_render](#set_post_render), [set_post_render_screen](#set_post_render_screen), [set_pre_render](#set_pre_render), [set_pre_render_screen](#set_pre_render_screen)

Type | Name | Description
---- | ---- | -----------
nil | [draw_text(const string& text, float x, float y, float scale_x, float scale_y, Color color, VANILLA_TEXT_ALIGNMENT alignment, VANILLA_FONT_STYLE fontstyle)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_text) | Draw text using the built-in renderer<br/>Use in combination with [ON](#ON).RENDER_✱ events. See vanilla_rendering.lua in the example scripts.
nil | [draw_text(const TextRenderingInfo tri, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_text) | 
tuple&lt;float, float&gt; | [draw_text_size(const string& text, float scale_x, float scale_y, int fontstyle)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_text_size) | Measure the provided text using the built-in renderer<br/>If you can, consider creating your own [TextRenderingInfo](#TextRenderingInfo) instead<br/>You can then use `:text_size()` and `draw_text` with that one object<br/>`draw_text_size` works by creating new TextRenderingInfo just to call `:text_size()`, which is not very optimal
nil | [draw_screen_texture(TEXTURE texture_id, int row, int column, float left, float top, float right, float bottom, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_texture) | Draw a texture in screen coordinates from top-left to bottom-right using the built-in renderer<br/>Use in combination with [ON](#ON).RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_texture(TEXTURE texture_id, int row, int column, const AABB& rect, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_texture) | Draw a texture in screen coordinates from top-left to bottom-right using the built-in renderer<br/>Use in combination with [ON](#ON).RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_texture(TEXTURE texture_id, int row, int column, const AABB& rect, Color color, float angle, float px, float py)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_texture) | Draw a texture in screen coordinates from top-left to bottom-right using the built-in renderer with angle, px/py is pivot for the rotatnion where 0,0 is center 1,1 is top right corner etc.<br/>Use in combination with [ON](#ON).RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_texture(TEXTURE texture_id, int row, int column, const Quad& dest, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_texture) | Draw a texture in screen coordinates from top-left to bottom-right using the built-in renderer<br/>Use in combination with [ON](#ON).RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_texture(TEXTURE texture_id, const Quad& source, const Quad& dest, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_texture) | Draw a texture in screen coordinates from top-left to bottom-right using the built-in renderer. `source` - the coordinates in the texture, `dest` - the coordinates on the screen<br/>Use in combination with ON.RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_texture(TEXTURE texture_id, TextureRenderingInfo tri, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_texture) | Draw a texture in screen coordinates using [TextureRenderingInfo](#TextureRenderingInfo)<br/>Use in combination with [ON](#ON).RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [set_corner_finish(CORNER_FINISH c)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_corner_finish) | Set the prefered way of drawing corners for the non filled shapes
nil | [draw_screen_line(const Vec2& A, const Vec2& B, float thickness, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_line) | Draws a line on screen using the built-in renderer from point `A` to point `B`.<br/>Use in combination with ON.RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_rect(const AABB& rect, float thickness, Color color, optional<float> angle, optional<float> px, optional<float> py)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_rect) | Draw rectangle in screen coordinates from top-left to bottom-right using the built-in renderer with optional `angle`.<br/>`px`/`py` is pivot for the rotatnion where 0,0 is center 1,1 is top right corner etc. (corner from the AABB, not the visible one from adding the `thickness`)<br/>Use in combination with ON.RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_rect_filled(const AABB& rect, Color color, optional<float> angle, optional<float> px, optional<float> py)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_rect_filled) | Draw filled rectangle in screen coordinates from top-left to bottom-right using the built-in renderer with optional `angle`.<br/>`px`/`py` is pivot for the rotatnion where 0,0 is center 1,1 is top right corner etc.<br/>Use in combination with ON.RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_triangle(const Triangle& triangle, float thickness, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_triangle) | Draw triangle in screen coordinates using the built-in renderer.<br/>Use in combination with [ON](#ON).RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_triangle_filled(const Triangle& triangle, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_triangle_filled) | Draw filled triangle in screen coordinates using the built-in renderer.<br/>Use in combination with [ON](#ON).RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_poly(array<Vec2> points, float thickness, Color color, bool closed)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_poly) | Draw a polyline on screen from points using the built-in renderer<br/>Draws from the first to the last point, use `closed` to connect first and last as well<br/>Use in combination with ON.RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_poly(const Quad& points, float thickness, Color color, bool closed)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_poly) | Draw quadrilateral in screen coordinates from top-left to bottom-right using the built-in renderer.<br/>Use in combination with [ON](#ON).RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_poly_filled(array<Vec2> points, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_poly_filled) | Draw a convex polygon on screen from points using the built-in renderer<br/>Can probably draw almost any polygon, but the convex one is guaranteed to look correct<br/>Use in combination with [ON](#ON).RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_poly_filled(const Quad& points, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_poly_filled) | Draw filled quadrilateral in screen coordinates from top-left to bottom-right using the built-in renderer.<br/>Use in combination with [ON](#ON).RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_world_texture(TEXTURE texture_id, int row, int column, float left, float top, float right, float bottom, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_texture) | Draw a texture in world coordinates from top-left to bottom-right using the built-in renderer<br/>Use in combination with [ON](#ON).RENDER_PRE_DRAW_DEPTH event<br/>For more control use the version taking a [Quad](#Quad) instead
nil | [draw_world_texture(TEXTURE texture_id, int row, int column, const AABB& dest, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_texture) | Draw a texture in world coordinates from top-left to bottom-right using the built-in renderer<br/>Use in combination with [ON](#ON).RENDER_PRE_DRAW_DEPTH event<br/>For more control use the version taking a [Quad](#Quad) instead
nil | [draw_world_texture(TEXTURE texture_id, int row, int column, const AABB& dest, Color color, float angle, float px, float py)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_texture) | Draw a texture in world coordinates from top-left to bottom-right using the built-in renderer with angle, px/py is pivot for the rotatnion where 0,0 is center 1,1 is top right corner etc.<br/>Use in combination with [ON](#ON).RENDER_PRE_DRAW_DEPTH event<br/>For more control use the version taking a [Quad](#Quad) instead
nil | [draw_world_texture(TEXTURE texture_id, int row, int column, const Quad& dest, Color color, WORLD_SHADER shader)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_texture) | Draw a texture in world coordinates from top-left to bottom-right using the built-in renderer<br/>The `shader` parameter controls how to render the texture<br/>Use in combination with ON.RENDER_PRE_DRAW_DEPTH event
nil | [draw_world_texture(TEXTURE texture_id, int row, int column, const Quad& dest, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_texture) | Draw a texture in world coordinates from top-left to bottom-right using the built-in renderer<br/>Use in combination with [ON](#ON).RENDER_PRE_DRAW_DEPTH event
nil | [draw_world_texture(TEXTURE texture_id, const Quad& source, const Quad& dest, Color color, WORLD_SHADER shader)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_texture) | Draw a texture in world coordinates from top-left to bottom-right using the built-in renderer.  `source` - the coordinates in the texture, `dest` - the coordinates on the screen<br/>The `shader` parameter controls how to render the texture<br/>Use in combination with ON.RENDER_PRE_DRAW_DEPTH event
nil | [draw_world_texture(TEXTURE texture_id, const Quad& source, const Quad& dest, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_texture) | Draw a texture in world coordinates from top-left to bottom-right using the built-in renderer.  `source` - the coordinates in the texture, `dest` - the coordinates on the screen<br/>Use in combination with ON.RENDER_PRE_DRAW_DEPTH event
nil | [draw_world_line(const Vec2& A, const Vec2& B, float thickness, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_line) | Draws a line in world coordinates using the built-in renderer from point `A` to point `B`.<br/>Use in combination with ON.RENDER_PRE_DRAW_DEPTH event
nil | [draw_world_rect(const AABB& rect, float thickness, Color color, optional<float> angle, optional<float> px, optional<float> py)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_rect) | Draw rectangle in world coordinates from top-left to bottom-right using the built-in renderer with optional `angle`.<br/>`px`/`py` is pivot for the rotatnion where 0,0 is center 1,1 is top right corner etc. (corner from the AABB, not the visible one from adding the `thickness`)<br/>Use in combination with ON.RENDER_PRE_DRAW_DEPTH event
nil | [draw_world_rect_filled(const AABB& rect, Color color, optional<float> angle, optional<float> px, optional<float> py)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_rect_filled) | Draw rectangle in world coordinates from top-left to bottom-right using the built-in renderer with optional `angle`.<br/>`px`/`py` is pivot for the rotatnion where 0,0 is center 1,1 is top right corner etc.<br/>Use in combination with ON.RENDER_PRE_DRAW_DEPTH event
nil | [draw_world_triangle(const Triangle& triangle, float thickness, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_triangle) | Draw triangle in world coordinates using the built-in renderer.<br/>Use in combination with [ON](#ON).RENDER_PRE_DRAW_DEPTH event
nil | [draw_world_triangle_filled(const Triangle& triangle, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_triangle_filled) | Draw filled triangle in world coordinates using the built-in renderer.<br/>Use in combination with [ON](#ON).RENDER_PRE_DRAW_DEPTH event
nil | [draw_world_poly(array<Vec2> points, float thickness, Color color, bool closed)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_poly) | Draw a polyline in world coordinates from points using the built-in renderer<br/>Draws from the first to the last point, use `closed` to connect first and last as well<br/>Use in combination with ON.RENDER_PRE_DRAW_DEPTH event
nil | [draw_world_poly(const Quad& points, float thickness, Color color, bool closed)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_poly) | Draw quadrilateral in world coordinates from top-left to bottom-right using the built-in renderer.<br/>Use in combination with [ON](#ON).RENDER_PRE_DRAW_DEPTH event
nil | [draw_world_poly_filled(array<Vec2> points, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_poly_filled) | Draw a convex polygon in world coordinates from points using the built-in renderer<br/>Can probably draw almost any polygon, but the convex one is guaranteed to look correct<br/>Use in combination with [ON](#ON).RENDER_PRE_DRAW_DEPTH event
nil | [draw_world_poly_filled(const Quad& points, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_poly_filled) | Draw filled quadrilateral in world coordinates from top-left to bottom-right using the built-in renderer.<br/>Use in combination with [ON](#ON).RENDER_PRE_DRAW_DEPTH event
[AABB](#AABB) | [bounding_box](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bounding_box) | 
 | [render_draw_depth](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=render_draw_depth) | 

## Entity related types


### Ai

Used in [Player](#Player)

Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [target](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=target) | 
int | [target_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=target_uid) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 
int | [state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=state) | AI state (patrol, sleep, attack, aggro...)
int | [last_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=last_state) | 
int | [trust](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=trust) | Levels completed with, 0..3
int | [whipped](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=whipped) | Number of times whipped by player
int | [walk_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_pause_timer) | positive: walking, negative: wating/idle

### Animation

Used in [EntityDB](#EntityDB)

Type | Name | Description
---- | ---- | -----------
int | [id](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=id) | 
int | [first_tile](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=first_tile) | 
int | [num_tiles](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=num_tiles) | 
int | [interval](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=interval) | 
[REPEAT_TYPE](#REPEAT_TYPE) | [repeat_mode](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=repeat_mode) | 

### EntityDB


> When cloning an entity type, remember to save it in the script for as long as you need it. Otherwise the memory will be freed immediately, which eventually leads to a crash when used or overwritten by other stuff:

```lua
-- Create a special fast snake type with weird animation
special_snake = EntityDB:new(ENT_TYPE.MONS_SNAKE)
special_snake.max_speed = 1
special_snake.acceleration = 2
special_snake.animations[2].num_tiles = 1

set_post_entity_spawn(function(snake)
    -- 50% chance to make snakes special
    if prng:random_chance(2, PRNG_CLASS.PROCEDURAL_SPAWNS) then
        -- Assign custom type
        snake.type = special_snake
        -- This is only really needed if types are changed during the level
        snake.current_animation = special_snake.animations[2]
    end
end, SPAWN_TYPE.ANY, MASK.MONSTER, ENT_TYPE.MONS_SNAKE)
```

> You can also use Entity.user_data to store the custom type:

```lua
-- Custom player who is buffed a bit every level
set_callback(function()
    -- Doing this to include HH
    for i,v in ipairs(get_entities_by_mask(MASK.PLAYER)) do
        local player = get_entity(v)

        -- Create new custom type on the first level, based on the original type
        if not player.user_data then
            player.user_data = {}
            player.user_data.type = EntityDB:new(player.type.id)
        end

        -- Set the player entity type to the custom type every level
        player.type = player.user_data.type

        -- Buff the player every subsequent level
        if state.level_count > 0 then
            player.type.max_speed = player.type.max_speed * 1.1
            player.type.acceleration = player.type.acceleration * 1.1
            player.type.jump = player.type.jump * 1.1
        end
    end
end, ON.POST_LEVEL_GENERATION)
```

> Illegal bad example, don't do this:

```lua
set_callback(function()
    -- Nobody owns the new type and the memory is freed immediately, eventually leading to a crash
    players[1].type = EntityDB:new(players[1].type)
    players[1].type.max_speed = 2
end, ON.POST_LEVEL_GENERATION)
```


Used in [Entity](#Entity) and [get_type](#get_type)<br/>
Stores static common data for an [ENT_TYPE](#ENT_TYPE). You can also clone entity types with the copy constructor to create new custom entities with different common properties. [This tool](https://dregu.github.io/Spelunky2ls/animation.html) can be helpful when messing with the animations. The default values are also listed in [entities.json](https://github.com/spelunky-fyi/overlunky/blob/main/docs/game_data/entities.json).

Type | Name | Description
---- | ---- | -----------
[EntityDB](#EntityDB) | [new(EntityDB other)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=EntityDB) | 
[EntityDB](#EntityDB) | [new(ENT_TYPE)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=EntityDB) | 
[ENT_TYPE](#ENT_TYPE) | [id](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=id) | 
int | [search_flags](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=search_flags) | [MASK](#MASK)
float | [width](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=width) | 
float | [height](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=height) | 
float | [offsetx](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offsetx) | 
float | [offsety](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offsety) | 
float | [hitboxx](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hitboxx) | 
float | [hitboxy](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hitboxy) | 
int | [draw_depth](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_depth) | 
int | [collision2_mask](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=collision2_mask) | [MASK](#MASK), will only call collision2 when colliding with entities that match this mask.
int | [collision_mask](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=collision_mask) | [MASK](#MASK) used for collision with floors.
float | [friction](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=friction) | 
float | [elasticity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=elasticity) | 
float | [weight](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=weight) | 
float | [acceleration](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=acceleration) | 
float | [max_speed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=max_speed) | 
float | [sprint_factor](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sprint_factor) | 
float | [jump](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jump) | 
float | [glow_red](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=glow_red) | 
float | [glow_green](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=glow_green) | 
float | [glow_blue](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=glow_blue) | 
float | [glow_alpha](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=glow_alpha) | 
int | [damage](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=damage) | 
int | [life](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=life) | 
int | [sacrifice_value](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sacrifice_value) | Favor for sacrificing alive. Halved when dead (health == 0).
int | [blood_content](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blood_content) | 
int | [texture](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=texture) | 
map&lt;int, [Animation](#Animation)&gt; | [animations](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=animations) | 
int | [properties_flags](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=properties_flags) | 
int | [default_flags](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=default_flags) | 
int | [default_more_flags](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=default_more_flags) | 
bool | [leaves_corpse_behind](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=leaves_corpse_behind) | 
int | [sound_killed_by_player](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound_killed_by_player) | 
int | [sound_killed_by_other](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound_killed_by_other) | 
[STRINGID](#Aliases) | [description](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=description) | 
int | [tilex](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tilex) | 
int | [tiley](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tiley) | 

### HudInventory


Type | Name | Description
---- | ---- | -----------
bool | [enabled](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=enabled) | 
int | [health](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=health) | 
int | [bombs](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bombs) | 
int | [ropes](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ropes) | 
bool | [ankh](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ankh) | 
bool | [kapala](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kapala) | 
int | [kapala_blood](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kapala_blood) | 
bool | [poison](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=poison) | 
bool | [curse](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=curse) | 
bool | [elixir](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=elixir) | 
[ENT_TYPE](#ENT_TYPE) | [crown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=crown) | [Powerup](#Powerup) type or 0
int | [item_count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=item_count) | Amount of generic pickup items at the bottom. Set to 0 to not draw them.

### Inventory

Used in [Player](#Player), [PlayerGhost](#PlayerGhost) and [Items](#Items)

Type | Name | Description
---- | ---- | -----------
int | [money](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=money) | Sum of the money collected in current level
int | [bombs](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bombs) | 
int | [ropes](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ropes) | 
int | [player_slot](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_slot) | 
int | [poison_tick_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=poison_tick_timer) | Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
bool | [cursed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cursed) | Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
bool | [elixir_buff](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=elixir_buff) | Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
int | [health](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=health) | Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
int | [kapala_blood_amount](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kapala_blood_amount) | Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
int | [time_of_death](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_of_death) | Is set to state.time_total when player dies in coop (to determinate who should be first to re-spawn from coffin)
[ENT_TYPE](#ENT_TYPE) | [held_item](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=held_item) | Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
int | [held_item_metadata](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=held_item_metadata) | Metadata of the held item (health, is cursed etc.)<br/>Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
[ENT_TYPE](#ENT_TYPE) | [mount_type](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mount_type) | Used to transfer information to transition/next level (player rading a mout). Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
int | [mount_metadata](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mount_metadata) | Metadata of the mount (health, is cursed etc.)<br/>Used to transfer information to transition/next level (player rading a mout). Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
int | [kills_level](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kills_level) | 
int | [kills_total](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kills_total) | 
int | [collected_money_total](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=collected_money_total) | Total money collected during previous levels (so excluding the current one)
int | [collected_money_count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=collected_money_count) | Count/size for the `collected_money` arrays
array&lt;[ENT_TYPE](#ENT_TYPE), 512&gt; | [collected_money](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=collected_money) | Types of gold/gems collected during this level, used later to display during the transition
array&lt;int, 512&gt; | [collected_money_values](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=collected_money_values) | Values of gold/gems collected during this level, used later to display during the transition
array&lt;[ENT_TYPE](#ENT_TYPE), 256&gt; | [killed_enemies](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=killed_enemies) | Types of enemies killed during this level, used later to display during the transition
int | [companion_count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=companion_count) | Number of companions, it will determinate how many companions will be transfered to next level<br/>Increments when player acquires new companion, decrements when one of them dies
array&lt;[ENT_TYPE](#ENT_TYPE), 8&gt; | [companions](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=companions) | Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
array&lt;[ENT_TYPE](#ENT_TYPE), 8&gt; | [companion_held_items](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=companion_held_items) | Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
array&lt;int, 8&gt; | [companion_held_item_metadatas](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=companion_held_item_metadatas) | Metadata of items held by companions (health, is cursed etc.)<br/>Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
array&lt;int, 8&gt; | [companion_trust](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=companion_trust) | (0..3) Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
array&lt;int, 8&gt; | [companion_health](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=companion_health) | Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
array&lt;int, 8&gt; | [companion_poison_tick_timers](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=companion_poison_tick_timers) | Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
array&lt;bool, 8&gt; | [is_companion_cursed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_companion_cursed) | Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
array&lt;[ENT_TYPE](#ENT_TYPE), 30&gt; | [acquired_powerups](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=acquired_powerups) | Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this

## Generic types


### AABB

Axis-Aligned-Bounding-Box, represents for example a hitbox of an entity or the size of a gui element

Type | Name | Description
---- | ---- | -----------
[AABB](#AABB) | [new()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=AABB) | Create a new axis aligned bounding box - defaults to all zeroes
[AABB](#AABB) | [new(AABB)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=AABB) | Copy an axis aligned bounding box
[AABB](#AABB) | [new(Vec2 top_left, Vec2 bottom_right)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=AABB) | 
[AABB](#AABB) | [new(float left_, float top_, float right_, float bottom_)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=AABB) | Create a new axis aligned bounding box by specifying its values
float | [left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=left) | 
float | [bottom](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom) | 
float | [right](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=right) | 
float | [top](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=top) | 
bool | [overlaps_with(const AABB& other)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=overlaps_with) | 
[AABB](#AABB)& | [abs()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=abs) | Fixes the [AABB](#AABB) if any of the sides have negative length
[AABB](#AABB)& | [extrude(float amount)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=extrude) | Grows or shrinks the [AABB](#AABB) by the given amount in all directions.<br/>If `amount < 0` and `abs(amount) > right/top - left/bottom` the respective dimension of the AABB will become `0`.
[AABB](#AABB)& | [extrude(float amount_x, float amount_y)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=extrude) | Grows or shrinks the [AABB](#AABB) by the given amount in each direction.<br/>If `amount_x/y < 0` and `abs(amount_x/y) > right/top - left/bottom` the respective dimension of the AABB will become `0`.
[AABB](#AABB)& | [offset(float off_x, float off_y)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offset) | Offsets the [AABB](#AABB) by the given offset.
float | [area()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=area) | Compute area of the [AABB](#AABB), can be zero if one dimension is zero or negative if one dimension is inverted.
tuple&lt;float, float&gt; | [center()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=center) | Short for `(aabb.left + aabb.right) / 2.0f, (aabb.top + aabb.bottom) / 2.0f`.
float | [width()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=width) | Short for `aabb.right - aabb.left`.
float | [height()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=height) | Short for `aabb.top - aabb.bottom`.
bool | [is_point_inside(const Vec2 p)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_point_inside) | Checks if point lies between left/right and top/bottom
bool | [is_point_inside(float x, float y)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_point_inside) | 
tuple&lt;float, float, float, float&gt; | [split()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=split) | 

### BackgroundMusic

Used in [GameManager](#GameManager)

Type | Name | Description
---- | ---- | -----------
[BackgroundSound](#BackgroundSound) | [game_startup](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=game_startup) | 
[BackgroundSound](#BackgroundSound) | [main_backgroundtrack](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=main_backgroundtrack) | 
[BackgroundSound](#BackgroundSound) | [basecamp](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=basecamp) | 
[BackgroundSound](#BackgroundSound) | [win_scene](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_scene) | 
[BackgroundSound](#BackgroundSound) | [arena](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arena) | 
[BackgroundSound](#BackgroundSound) | [arena_intro_and_win](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arena_intro_and_win) | 
[BackgroundSound](#BackgroundSound) | [level_gameplay](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_gameplay) | 
[BackgroundSound](#BackgroundSound) | [dark_level](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dark_level) | 
[BackgroundSound](#BackgroundSound) | [level_transition](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_transition) | 
[BackgroundSound](#BackgroundSound) | [backlayer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=backlayer) | 
[BackgroundSound](#BackgroundSound) | [shop](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shop) | 
[BackgroundSound](#BackgroundSound) | [angered_shopkeeper](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=angered_shopkeeper) | 
[BackgroundSound](#BackgroundSound) | [inside_sunken_city_pipe](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=inside_sunken_city_pipe) | 
[BackgroundSound](#BackgroundSound) | [pause_menu](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pause_menu) | 
[BackgroundSound](#BackgroundSound) | [death_transition](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=death_transition) | 

### Color


```lua
-- make a semi transparent red color and print it in different formats
local color = Color:red()
color.a = 0.5
local r, g, b, a = color:get_rgba()
prinspect(r, g, b, a) -- 255, 0, 0, 128
prinspect(color.r, color.g, color.b, color.a) -- 1.0, 0.0, 0.0, 0.5
prinspect(string.format("%x"), color:get_ucolor()) -- 800000ff

```


Type | Name | Description
---- | ---- | -----------
[Color](#Color) | [new()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Color) | Create a new color - defaults to black
[Color](#Color) | [new(Color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Color) | 
[Color](#Color) | [new(float r_, float g_, float b_, float a_)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Color) | Create a new color by specifying its values
float | [r](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=r) | 
float | [g](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=g) | 
float | [b](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=b) | 
float | [a](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=a) | 
[Color](#Color) | [white()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=white) | 
[Color](#Color) | [silver()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=silver) | 
[Color](#Color) | [gray()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=gray) | 
[Color](#Color) | [black()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=black) | 
[Color](#Color) | [red()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=red) | 
[Color](#Color) | [maroon()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=maroon) | 
[Color](#Color) | [yellow()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=yellow) | 
[Color](#Color) | [olive()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=olive) | 
[Color](#Color) | [lime()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=lime) | 
[Color](#Color) | [green()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=green) | 
[Color](#Color) | [aqua()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=aqua) | 
[Color](#Color) | [teal()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=teal) | 
[Color](#Color) | [blue()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blue) | 
[Color](#Color) | [navy()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=navy) | 
[Color](#Color) | [fuchsia()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fuchsia) | 
[Color](#Color) | [purple()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=purple) | 
tuple&lt;int, int, int, int&gt; | [get_rgba()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_rgba) | Returns RGBA colors in 0..255 range
[Color](#Color)& | [set_rgba(int red, int green, int blue, int alpha)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_rgba) | Changes color based on given RGBA colors in 0..255 range
[uColor](#Aliases) | [get_ucolor()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_ucolor) | Returns the `uColor` used in `GuiDrawContext` drawing functions
[Color](#Color)& | [set_ucolor(const uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_ucolor) | Changes color based on given [uColor](#Aliases)

### Hud


```lua
set_callback(function(ctx, hud)
    -- draw on screen bottom but keep neat animations
    if hud.y > 0 then hud.y = -hud.y end
    -- spoof some values
    hud.data.inventory[1].health = prng:random_int(1, 99, 0)
    -- hide generic pickup items
    hud.data.inventory[1].item_count = 0
    -- hide money element
    hud.data.money.opacity = 0
    -- get real current opacity of p1 inventory element
    prinspect(hud.data.players[1].opacity * hud.data.opacity * hud.opacity)
end, ON.RENDER_PRE_HUD)

```


Type | Name | Description
---- | ---- | -----------
float | [y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y) | 
float | [opacity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=opacity) | 
[HudData](#HudData) | [data](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=data) | 

### HudData


Type | Name | Description
---- | ---- | -----------
array&lt;[HudInventory](#HudInventory), MAX_PLAYERS&gt; | [inventory](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=inventory) | 
bool | [udjat](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=udjat) | 
int | [money_total](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=money_total) | 
int | [money_counter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=money_counter) | 
int | [time_total](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_total) | 
int | [time_level](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_level) | 
int | [world_num](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=world_num) | 
int | [level_num](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_num) | 
int | [seed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=seed) | 
float | [opacity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=opacity) | 
array&lt;[HudPlayer](#HudPlayer), MAX_PLAYERS&gt; | [players](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=players) | 
[HudMoney](#HudMoney) | [money](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=money) | 
[HudElement](#HudElement) | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 
[HudElement](#HudElement) | [level](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level) | 

### HudElement


Type | Name | Description
---- | ---- | -----------
bool | [dim](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dim) | Hide background and dim if using the auto adjust setting.
float | [opacity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=opacity) | Background will be drawn if this is not 0.5
int | [time_dim](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_dim) | Level time when element should dim again after hilighted, INT_MAX if dimmed on auto adjust. 0 on opaque.

### HudMoney

Derived from [HudElement](#HudElement)


Type | Name | Description
---- | ---- | -----------
int | [total](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=total) | 
int | [counter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=counter) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### HudPlayer

Derived from [HudElement](#HudElement)


Type | Name | Description
---- | ---- | -----------
int | [health](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=health) | 
int | [bombs](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bombs) | 
int | [ropes](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ropes) | 

### ItemOwnerDetails

Used in [RoomOwnersInfo](#RoomOwnersInfo)

Type | Name | Description
---- | ---- | -----------
[ENT_TYPE](#ENT_TYPE) | [owner_type](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=owner_type) | 
int | [owner_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=owner_uid) | 

### Letter


Type | Name | Description
---- | ---- | -----------
[Triangle](#Triangle) | [bottom](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom) | 
[Triangle](#Triangle) | [top](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=top) | 
[Quad](#Quad) | [get_quad()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_quad) | Get the [Quad](#Quad) of a letter (easier to work with compared to the two triangles)<br/>This assumes that the triangles are in the correct 'touching each other' position<br/>if the positions were altered the results may not end up as expected
nil | [set_quad(Quad quad)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_quad) | Inverse of the get_quad
[Vec2](#Vec2) | [center()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=center) | Get's approximated center of a letter by finding the highest and lowest values, then finding the center of a rectangle build from those values

### MagmamanSpawnPosition

Used in [LogicList](#LogicList)

Type | Name | Description
---- | ---- | -----------
[MagmamanSpawnPosition](#MagmamanSpawnPosition) | [new(int x_, int y_)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=MagmamanSpawnPosition) | 
int | [x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=x) | 
int | [y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### MovableBehavior

Opaque handle to a movable behavior used in some [Movable](#Movable) functions

Type | Name | Description
---- | ---- | -----------
int | [get_state_id()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_state_id) | 
int | [get_state_id()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_state_id) | Get the `state_id` of a behavior, this is the id that needs to be returned from a behavior's<br/>`get_next_state_id` to enter this state, given that the behavior is added to the movable.

### PRNG

[PRNG](#PRNG) (short for Pseudo-Random-Number-Generator) holds 10 128bit wide buffers of memory that are mutated on every generation of a random number.
The game uses specific buffers for specific scenarios, for example the third buffer is used every time particles are spawned to determine a random velocity.
The used buffer is determined by [PRNG_CLASS](#PRNG_CLASS). If you want to make a mod that does not affect level generation but still uses the prng then you want to stay away from specific buffers.
If you don't care what part of the game you affect just use [prng](#prng)`.random`.

Type | Name | Description
---- | ---- | -----------
nil | [seed(int seed)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=seed) | Same as `seed_prng`
float | [random_float(PRNG_CLASS type)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=random_float) | Generate a random floating point number in the range `[0, 1)`
bool | [random_chance(int inverse_chance, PRNG_CLASS type)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=random_chance) | Returns true with a chance of `1/inverse_chance`
optional&lt;int&gt; | [random_index(int i, PRNG_CLASS type)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=random_index) | Generate a integer number in the range `[1, i]` or `nil` if `i < 1`
optional&lt;int&gt; | [random_int(int min, int max, PRNG_CLASS type)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=random_int) | Generate a integer number in the range `[min, max]` or `nil` if `max < min`
float | [random()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=random) | Drop-in replacement for `math.random()`
optional&lt;int&gt; | [random(int i)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=random) | Drop-in replacement for `math.random(i)`
optional&lt;int&gt; | [random(int min, int max)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=random) | Drop-in replacement for `math.random(min, max)`
tuple&lt;int, int&gt; | [get_pair(PRNG_CLASS type)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_pair) | 
nil | [set_pair(PRNG_CLASS type, int first, int second)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pair) | 

### Quad


Type | Name | Description
---- | ---- | -----------
[Quad](#Quad) | [new()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Quad) | 
[Quad](#Quad) | [new(Quad)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Quad) | 
[Quad](#Quad) | [new(Vec2 bottom_left_, Vec2 bottom_right_, Vec2 top_right_, Vec2 top_left_)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Quad) | 
[Quad](#Quad) | [new(float _bottom_left_x, float _bottom_left_y, float _bottom_right_x, float _bottom_right_y, float _top_right_x, float _top_right_y, float _top_left_x, float _top_left_y)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Quad) | 
[Quad](#Quad) | [new(AABB aabb)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Quad) | 
float | [bottom_left_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom_left_x) | 
float | [bottom_left_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom_left_y) | 
float | [bottom_right_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom_right_x) | 
float | [bottom_right_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom_right_y) | 
float | [top_right_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=top_right_x) | 
float | [top_right_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=top_right_y) | 
float | [top_left_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=top_left_x) | 
float | [top_left_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=top_left_y) | 
[AABB](#AABB) | [get_AABB()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_AABB) | Returns the max/min values of the [Quad](#Quad)
[Quad](#Quad)& | [offset(float off_x, float off_y)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offset) | 
[Quad](#Quad)& | [rotate(float angle, float px, float py)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotate) | Rotates a [Quad](#Quad) by an angle, px/py are not offsets, use `:get_AABB():center()` to get approximated center for simetrical quadrangle
[Quad](#Quad)& | [flip_horizontally()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flip_horizontally) | 
[Quad](#Quad)& | [flip_vertically()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flip_vertically) | 
bool | [is_point_inside(Vec2 p, optional<float> epsilon)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_point_inside) | Check if point lies inside of triangle<br/>Because of the imprecise nature of floating point values, the `epsilon` value is needed to compare the floats, the default value is `0.00001`
bool | [is_point_inside(float x, float y, optional<float> epsilon)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_point_inside) | 
tuple&lt;[Vec2](#Vec2), [Vec2](#Vec2), [Vec2](#Vec2), [Vec2](#Vec2)&gt; | [split()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=split) | Returns the corners in order: bottom_left, bottom_right, top_right, top_left

### RenderInfo


> For using a custom normal map:

```lua
set_post_entity_spawn(function(ent)
  -- Doesn't really make sense with this texture, you can use your custom normal texture id here
  ent.rendering_info:set_normal_map_texture(TEXTURE.DATA_TEXTURES_FLOORSTYLED_GOLD_NORMAL_0)
  ent.rendering_info.shader = 30 -- Make sure to set the shader to one that uses normal map
end, SPAWN_TYPE.LEVEL_GEN, MASK.FLOOR, ENT_TYPE.FLOORSTYLED_MINEWOOD)
```

> Note: if using set_texture_num, make sure to have used set_second_texture/set_third_texture before, since not doing so can lead to crashes


Some information used to render the entity, can not be changed, used in [Entity](#Entity)

Type | Name | Description
---- | ---- | -----------
float | [x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=x) | 
float | [y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y) | 
[WORLD_SHADER](#WORLD_SHADER) | [shader](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shader) | 
[Quad](#Quad) | [source](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=source) | 
[Quad](#Quad) | [destination](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=destination) | 
float | [tilew](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tilew) | 
float | [tileh](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tileh) | 
bool | [facing_left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=facing_left) | 
bool | [render_inactive](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=render_inactive) | 
int | [texture_num](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=texture_num) | 
class [Entity](#Entity) | [get_entity()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_entity) | 
bool | [set_normal_map_texture(TEXTURE texture_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_normal_map_texture) | Sets second_texture to the texture specified, then sets third_texture to SHINE_0 and texture_num to 3. You still have to change shader to 30 to render with normal map (same as COG normal maps)
optional&lt;[TEXTURE](#TEXTURE)&gt; | [get_second_texture](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_second_texture) | 
optional&lt;[TEXTURE](#TEXTURE)&gt; | [get_third_texture](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_third_texture) | 
bool | [set_second_texture(TEXTURE texture_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_second_texture) | 
bool | [set_third_texture(TEXTURE texture_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_third_texture) | 
bool | [set_texture_num(int texture_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_texture_num) | Set the number of textures that may be used, need to have them set before for it to work
[CallbackId](#Aliases) | [set_pre_virtual(RENDER_INFO_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_virtual) | Hooks before the virtual function at index `entry`.
[CallbackId](#Aliases) | [set_post_virtual(RENDER_INFO_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_virtual) | Hooks after the virtual function at index `entry`.
nil | [clear_virtual(CallbackId callback_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=clear_virtual) | Clears the hook given by `callback_id`, alternatively use `clear_callback()` inside the hook.
[CallbackId](#Aliases) | [set_pre_dtor(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_dtor) | Hooks before the virtual function.<br/>The callback signature is `nil dtor(RenderInfo self)`
[CallbackId](#Aliases) | [set_post_dtor(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_dtor) | Hooks after the virtual function.<br/>The callback signature is `nil dtor(RenderInfo self)`
[CallbackId](#Aliases) | [set_pre_render(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_render) | Hooks before the virtual function.<br/>The callback signature is `bool render(RenderInfo self, float float, VanillaRenderContext vanilla_render_context)`
[CallbackId](#Aliases) | [set_post_render(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_render) | Hooks after the virtual function.<br/>The callback signature is `nil render(RenderInfo self, float float, VanillaRenderContext vanilla_render_context)`

### RoomOwnerDetails

Used in [RoomOwnersInfo](#RoomOwnersInfo)

Type | Name | Description
---- | ---- | -----------
int | [layer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=layer) | 
int | [room_index](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=room_index) | 
int | [owner_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=owner_uid) | 

### RoomOwnersInfo

Used in [StateMemory](#StateMemory)

Type | Name | Description
---- | ---- | -----------
custom_map&lt;int, [ItemOwnerDetails](#ItemOwnerDetails)&gt; | [owned_items](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=owned_items) | key/index is the uid of an item
array&lt;[RoomOwnerDetails](#RoomOwnerDetails)&gt; | [owned_rooms](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=owned_rooms) | 

### ShortTileCodeDef

Used in [get_short_tile_code](#get_short_tile_code), [get_short_tile_code_definition](#get_short_tile_code_definition) and [PostRoomGenerationContext](#PostRoomGenerationContext)

Type | Name | Description
---- | ---- | -----------
[TILE_CODE](#TILE_CODE) | [tile_code](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tile_code) | Tile code that is used by default when this short tile code is encountered. Defaults to 0.
int | [chance](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=chance) | Chance in percent to pick `tile_code` over `alt_tile_code`, ignored if `chance == 0`. Defaults to 100.
[TILE_CODE](#TILE_CODE) | [alt_tile_code](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=alt_tile_code) | Alternative tile code, ignored if `chance == 100`. Defaults to 0.

### Triangle


Type | Name | Description
---- | ---- | -----------
[Triangle](#Triangle) | [new()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Triangle) | 
[Triangle](#Triangle) | [new(Triangle)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Triangle) | 
[Triangle](#Triangle) | [new(Vec2 _a, Vec2 _b, Vec2 _c)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Triangle) | 
[Triangle](#Triangle) | [new(float ax, float ay, float bx, float by, float cx, float cy)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Triangle) | 
[Vec2](#Vec2) | [A](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=A) | 
[Vec2](#Vec2) | [B](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=B) | 
[Vec2](#Vec2) | [C](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=C) | 
[Triangle](#Triangle)& | [offset(const Vec2& off)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offset) | 
[Triangle](#Triangle)& | [offset(float x, float y)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offset) | 
[Triangle](#Triangle)& | [rotate(float angle, float px, float py)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotate) | Rotate triangle by an angle, the px/py are just coordinates, not offset from the center
[Vec2](#Vec2) | [center()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=center) | Also known as centroid
tuple&lt;float, float, float&gt; | [get_angles()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_angles) | Returns ABC, BCA, CAB angles in radians
[Triangle](#Triangle)& | [scale(float scale)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scale) | 
float | [area()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=area) | 
bool | [is_point_inside(Vec2 p, optional<float> epsilon)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_point_inside) | Check if point lies inside of triangle<br/>Because of the imprecise nature of floating point values, the `epsilon` value is needed to compare the floats, the default value is `0.0001`
bool | [is_point_inside(float x, float y, optional<float> epsilon)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_point_inside) | 
tuple&lt;[Vec2](#Vec2), [Vec2](#Vec2), [Vec2](#Vec2)&gt; | [split()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=split) | Returns the corner points

### Vec2

Simple object to hold pair of coordinates

Type | Name | Description
---- | ---- | -----------
[Vec2](#Vec2) | [new()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Vec2) | 
[Vec2](#Vec2) | [new(Vec2)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Vec2) | 
[Vec2](#Vec2) | [new(float x_, float y_)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Vec2) | 
float | [x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=x) | 
float | [y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y) | 
[Vec2](#Vec2)& | [rotate(float angle, float px, float py)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotate) | 
float | [distance_to(const Vec2 other)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=distance_to) | Just simple pythagoras theorem
tuple&lt;float, float&gt; | [split()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=split) | 

## Input types


### Gamepad

Used in [ImGuiIO](#ImGuiIO)

Type | Name | Description
---- | ---- | -----------
bool | [enabled](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=enabled) | 
[GAMEPAD](#GAMEPAD) | [buttons](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=buttons) | 
float | [lt](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=lt) | 
float | [rt](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rt) | 
float | [lx](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=lx) | 
float | [ly](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ly) | 
float | [rx](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rx) | 
float | [ry](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ry) | 

### ImGuiIO

Used in [get_io](#get_io)

Type | Name | Description
---- | ---- | -----------
[Vec2](#Vec2)      | [displaysize](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=displaysize) | 
float       | [framerate](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=framerate) | 
bool        | [wantkeyboard](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wantkeyboard) | 
bool        | [keysdown[ImGuiKey_COUNT]](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=keysdown) | 
 | [keydown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=keydown) | bool keydown(int keycode)<br/>bool keydown(char key)<br/> 
 | [keypressed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=keypressed) | bool keypressed(int keycode, bool repeat = false)<br/>bool keypressed(char key, bool repeat = false)<br/> 
 | [keyreleased](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=keyreleased) | bool keyreleased(int keycode)<br/>bool keyreleased(char key)<br/> 
bool        | [keyctrl](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=keyctrl) | 
bool        | [keyshift](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=keyshift) | 
bool        | [keyalt](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=keyalt) | 
bool        | [keysuper](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=keysuper) | 
bool        | [wantmouse](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wantmouse) | 
[Vec2](#Vec2)      | [mousepos](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mousepos) | 
bool        | [mousedown[5]](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mousedown) | 
bool        | [mouseclicked[5]](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mouseclicked) | 
bool        | [mousedoubleclicked[5]](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mousedoubleclicked) | 
float       | [mousewheel](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mousewheel) | 
[Gamepad](#Gamepad) | [gamepad](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=gamepad) | 
 | [gamepads](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=gamepads) | [Gamepad](#Gamepad) gamepads(int index)<br/>This is the XInput index 1..4, might not be the same as the player slot.<br/> 
bool        | [showcursor](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=showcursor) | 

### InputMapping

Used in [PlayerSlot](#PlayerSlot)

Type | Name | Description
---- | ---- | -----------
int | [jump](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jump) | 
int | [attack](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack) | 
int | [bomb](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bomb) | 
int | [rope](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rope) | 
int | [walk_run](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_run) | 
int | [use_door_buy](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=use_door_buy) | 
int | [pause_menu](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pause_menu) | 
int | [journal](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=journal) | 
int | [left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=left) | 
int | [right](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=right) | 
int | [up](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=up) | 
int | [down](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=down) | 

### PlayerInputs

Used in [StateMemory](#StateMemory)

Type | Name | Description
---- | ---- | -----------
array&lt;[PlayerSlot](#PlayerSlot), MAX_PLAYERS&gt; | [player_slots](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_slots) | 
[PlayerSlot](#PlayerSlot) | [player_slot_1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_slot_1) | 
[PlayerSlot](#PlayerSlot) | [player_slot_2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_slot_2) | 
[PlayerSlot](#PlayerSlot) | [player_slot_3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_slot_3) | 
[PlayerSlot](#PlayerSlot) | [player_slot_4](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_slot_4) | 
array&lt;[PlayerSlotSettings](#PlayerSlotSettings), MAX_PLAYERS&gt; | [player_settings](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_settings) | 
[PlayerSlotSettings](#PlayerSlotSettings) | [player_slot_1_settings](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_slot_1_settings) | 
[PlayerSlotSettings](#PlayerSlotSettings) | [player_slot_2_settings](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_slot_2_settings) | 
[PlayerSlotSettings](#PlayerSlotSettings) | [player_slot_3_settings](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_slot_3_settings) | 
[PlayerSlotSettings](#PlayerSlotSettings) | [player_slot_4_settings](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_slot_4_settings) | 

## Journal types


### JournalPage

Used in [set_callback](#set_callback) with [ON](#ON).RENDER_POST_JOURNAL_PAGE

Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=background) | 
int | [page_number](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=page_number) | 
bool | [is_right_side_page()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_right_side_page) | background.x < 0
[JOURNAL_PAGE_TYPE](#JOURNAL_PAGE_TYPE) | [get_type()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_type) | 

### JournalPageBestiary

Derived from [JournalPage](#JournalPage) [JournalPageDiscoverable](#JournalPageDiscoverable)


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [monster_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=monster_background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [monster_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=monster_icon) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [defeated_killedby_black_bars](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=defeated_killedby_black_bars) | 
[TextRenderingInfo](#TextRenderingInfo) | [defeated_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=defeated_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [defeated_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=defeated_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [killedby_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=killedby_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [killedby_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=killedby_value_text_info) | 

### JournalPageDeathCause

Derived from [JournalPage](#JournalPage)


Type | Name | Description
---- | ---- | -----------
[TextRenderingInfo](#TextRenderingInfo) | [death_cause_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=death_cause_text_info) | 

### JournalPageDeathMenu

Derived from [JournalPage](#JournalPage)


Type | Name | Description
---- | ---- | -----------
int | [selected_menu_index](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=selected_menu_index) | 
[TextRenderingInfo](#TextRenderingInfo) | [game_over_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=game_over_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [level_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [level_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [money_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=money_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [money_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=money_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [time_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [time_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_value_text_info) | 

### JournalPageDiscoverable

Derived from [JournalPage](#JournalPage)


Type | Name | Description
---- | ---- | -----------
bool | [show_main_image](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=show_main_image) | 
[TextRenderingInfo](#TextRenderingInfo) | [title_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=title_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [entry_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=entry_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [chapter_title_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=chapter_title_text_info) | 

### JournalPageFeats

Derived from [JournalPage](#JournalPage)


Type | Name | Description
---- | ---- | -----------
[TextRenderingInfo](#TextRenderingInfo) | [chapter_title_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=chapter_title_text_info) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [feat_icons](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=feat_icons) | 

### JournalPageItems

Derived from [JournalPage](#JournalPage) [JournalPageDiscoverable](#JournalPageDiscoverable)


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [item_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=item_icon) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [item_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=item_background) | 

### JournalPageJournalMenu

Derived from [JournalPage](#JournalPage)


Type | Name | Description
---- | ---- | -----------
int | [selected_menu_index](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=selected_menu_index) | 
[TextRenderingInfo](#TextRenderingInfo) | [journal_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=journal_text_info) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [completion_badge](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=completion_badge) | 

### JournalPageLastGamePlayed

Derived from [JournalPage](#JournalPage)


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [main_image](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=main_image) | 
[TextRenderingInfo](#TextRenderingInfo) | [last_game_played_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=last_game_played_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [level_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [level_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [money_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=money_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [money_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=money_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [time_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [time_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_value_text_info) | 
int | [sticker_count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sticker_count) | 
array&lt;[TextureRenderingInfo](#TextureRenderingInfo), 20&gt; | [stickers](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stickers) | 

### JournalPagePeople

Derived from [JournalPage](#JournalPage) [JournalPageDiscoverable](#JournalPageDiscoverable)


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [character_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=character_background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [character_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=character_icon) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [character_drawing](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=character_drawing) | 

### JournalPagePlaces

Derived from [JournalPage](#JournalPage) [JournalPageDiscoverable](#JournalPageDiscoverable)


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [main_image](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=main_image) | 

### JournalPagePlayerProfile

Derived from [JournalPage](#JournalPage)


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [player_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_icon) | 
int | [player_icon_id](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_icon_id) | 
[TextRenderingInfo](#TextRenderingInfo) | [player_profile_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_profile_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [plays_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=plays_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [plays_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=plays_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [wins_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wins_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [wins_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wins_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [deaths_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=deaths_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [deaths_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=deaths_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [win_pct_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_pct_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [win_pct_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_pct_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [average_score_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=average_score_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [average_score_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=average_score_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [top_score_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=top_score_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [top_score_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=top_score_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [deepest_level_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=deepest_level_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [deepest_level_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=deepest_level_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [deadliest_level_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=deadliest_level_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [deadliest_level_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=deadliest_level_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [average_time_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=average_time_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [average_time_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=average_time_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [best_time_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=best_time_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [best_time_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=best_time_value_text_info) | 

### JournalPageProgress

Derived from [JournalPage](#JournalPage)


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [coffeestain_top](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=coffeestain_top) | 

### JournalPageRecap

Derived from [JournalPage](#JournalPage)


Type | Name | Description
---- | ---- | -----------

### JournalPageStory

Derived from [JournalPage](#JournalPage)


Type | Name | Description
---- | ---- | -----------

### JournalPageTraps

Derived from [JournalPage](#JournalPage) [JournalPageDiscoverable](#JournalPageDiscoverable)


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [trap_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=trap_icon) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [trap_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=trap_background) | 

## Levelgen types


### DoorCoords

Deprecated
 kept for backward compatibility, don't use, check [LevelGenSystem](#LevelGenSystem).exit_doors

Type | Name | Description
---- | ---- | -----------
float | [door1_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=door1_x) | 
float | [door1_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=door1_y) | 
float | [door2_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=door2_x) | door2 only valid when there are two in the level, like Volcana drill, [Olmec](#Olmec), ...
float | [door2_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=door2_y) | 

### LevelGenSystem

Data relating to level generation, changing anything in here from [ON](#ON).LEVEL or later will likely have no effect, used in [StateMemory](#StateMemory)

Type | Name | Description
---- | ---- | -----------
ShopType | [shop_type](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shop_type) | 
ShopType | [backlayer_shop_type](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=backlayer_shop_type) | 
int | [shop_music](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shop_music) | 
int | [backlayer_shop_music](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=backlayer_shop_music) | 
float | [spawn_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_x) | 
float | [spawn_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_y) | 
int | [spawn_room_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_room_x) | 
int | [spawn_room_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_room_y) | 
custom_array&lt;[Vec2](#Vec2)&gt; | [exit_doors](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=exit_doors) | 
[ThemeInfo](#ThemeInfo) | [themes[18]](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=themes) | 

## Lighting types


### Illumination

Generic obcject for lights in the game, you can make your own with [create_illumination](#create_illumination)<br/>
Used in [StateMemory](#StateMemory), [Player](#Player), [PlayerGhost](#PlayerGhost), [BurningRopeEffect](#BurningRopeEffect) ...

Type | Name | Description
---- | ---- | -----------
array&lt;[LightParams](#LightParams), 4&gt; | [lights](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=lights) | Table of light1, light2, ... etc.
[LightParams](#LightParams) | [light1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=light1) | 
[LightParams](#LightParams) | [light2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=light2) | 
[LightParams](#LightParams) | [light3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=light3) | 
[LightParams](#LightParams) | [light4](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=light4) | It's rendered on objects around, not as an actual bright spot
float | [brightness](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=brightness) | 
float | [brightness_multiplier](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=brightness_multiplier) | 
float | [light_pos_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=light_pos_x) | 
float | [light_pos_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=light_pos_y) | 
float | [offset_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offset_x) | 
float | [offset_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offset_y) | 
float | [distortion](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=distortion) | 
int | [entity_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=entity_uid) | 
int | [flags](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flags) | see [flags.hpp](https://github.com/spelunky-fyi/overlunky/blob/main/src/game_api/flags.hpp) illumination_flags
int | [type_flags](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=type_flags) | Only one can be set: 1 - Follow camera, 2 - Follow [Entity](#Entity), 3 - Rectangle, full brightness<br/>Rectangle always uses light1, even when it's disabled in flags
bool | [enabled](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=enabled) | 
int | [layer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=layer) | 

### LightParams

Used in [Illumination](#Illumination)

Type | Name | Description
---- | ---- | -----------
float | [red](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=red) | 
float | [green](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=green) | 
float | [blue](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blue) | 
float | [size](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=size) | 

## Liquid types


### LiquidPhysics

Use [LIQUID_POOL](#LIQUID_POOL) enum for the index<br/>
Used in [StateMemory](#StateMemory)

Type | Name | Description
---- | ---- | -----------
array&lt;[LiquidPool](#LiquidPool), 5&gt; | [pools](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pools) | 

### LiquidPhysicsEngine

Used in [LiquidPool](#LiquidPool)

Type | Name | Description
---- | ---- | -----------
bool | [pause](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pause) | 
float | [gravity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=gravity) | 
float | [cohesion](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cohesion) | 
float | [elasticity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=elasticity) | 
float | [size](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=size) | 
float | [weight](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=weight) | 
int | [count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=count) | 

### LiquidPhysicsParams

Used in [LiquidPool](#LiquidPool)

Type | Name | Description
---- | ---- | -----------
float | [gravity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=gravity) | 
float | [cohesion](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cohesion) | 
float | [elasticity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=elasticity) | 

### LiquidPool

Used in [LiquidPhysics](#LiquidPhysics)

Type | Name | Description
---- | ---- | -----------
[LiquidPhysicsParams](#LiquidPhysicsParams) | [default](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=default) | 
[LiquidPhysicsEngine](#LiquidPhysicsEngine) | [engine](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=engine) | 

## Logic types


### Logic

Used in [LogicList](#LogicList)

Type | Name | Description
---- | ---- | -----------
int | [logic_index](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=logic_index) | 

### LogicDiceShop

Used in [LogicList](#LogicList)
Derived from [Logic](#Logic)


Type | Name | Description
---- | ---- | -----------
int | [bet_machine](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bet_machine) | 
int | [die1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=die1) | 
int | [die2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=die2) | 
int | [die_1_value](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=die_1_value) | 
int | [die_2_value](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=die_2_value) | 
int | [prize_dispenser](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=prize_dispenser) | 
int | [prize](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=prize) | 
int | [forcefield](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=forcefield) | 
bool | [bet_active](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bet_active) | 
bool | [forcefield_deactivated](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=forcefield_deactivated) | 
bool | [boss_angry](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=boss_angry) | 
int | [result_announcement_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=result_announcement_timer) | 
int | [won_prizes_count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=won_prizes_count) | 
int | [balance](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=balance) | 

### LogicList

Used in [StateMemory](#StateMemory)

Type | Name | Description
---- | ---- | -----------
[LogicOlmecCutscene](#LogicOlmecCutscene) | [olmec_cutscene](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=olmec_cutscene) | 
[LogicTiamatCutscene](#LogicTiamatCutscene) | [tiamat_cutscene](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tiamat_cutscene) | 
LogicMagmamanSpawn | [magmaman_spawn](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=magmaman_spawn) | 
[LogicDiceShop](#LogicDiceShop) | [diceshop](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=diceshop) | 

### LogicOlmecCutscene

Used in [LogicList](#LogicList)
Derived from [Logic](#Logic)


Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [olmec](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=olmec) | 
[Entity](#Entity) | [player](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player) | 
[Entity](#Entity) | [cinematic_anchor](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cinematic_anchor) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### LogicTiamatCutscene

Used in [LogicList](#LogicList)
Derived from [Logic](#Logic)


Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [tiamat](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tiamat) | 
[Entity](#Entity) | [player](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player) | 
[Entity](#Entity) | [cinematic_anchor](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cinematic_anchor) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 
